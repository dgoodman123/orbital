<!DOCTYPE html>
<html>
    <head>
        <style>
            body {
                background-color:rgb(0, 0, 0);
                height:100%;
                z-index:0;
            }
            
            .zeroZ {
                z-index: 0;
            }

            p {
                font-family: logic-monoscript, monospace;
                font-style: normal;
                font-weight: 400;
            }

            h1 {
                font-family: logic-monoscript, monospace;
                font-style: normal;
                font-weight: 400;
            }

            h2 {
                font-family: logic-monoscript, monospace;
                font-style: normal;
                font-weight: 400;
            }

            button:hover {
                cursor: pointer;
            }

            button {
                font-family: logic-monoscript, monospace;
                font-style: normal;
                font-weight: 400;
            }

            .choice-button {
                font-size:20px;
                color:black;
                margin:5px;
                padding: 2px 5px 2px 5px;
                border-radius:0px;
                border: 3px inset gray;
            }

            .back-button {
                font-size:30px;
                border-radius:0px;
                margin:5px;
                border: 3px inset gray;
                color:rgb(114, 0, 0);
                padding: 4px 8px 4px 8px;
            }

            #title {
                text-align:center;
                color:white;
                font-size:50px;
                background-color:rgb(0, 0, 0);
                margin-top:10%;
                margin-bottom:0px;
                margin-left:auto;
                margin-right:auto;
                width:200px;
                padding:20px;
            }

            #star-box {
                height:100%;
                width:100%;
                z-index:4;
                background-color:black;
            }

            #fun-box {
                z-index:-2;
                width:80%;
                margin:auto;
                margin-top:0px;
                margin-bottom:30%;
                text-align:center;
                background-color:rgb(4, 20, 22);
                padding: 15px 20px 15px 20px;
                border-radius:10px;
                border: 5px black ridge;
            }

            .star {
                color:rgb(255, 255, 255);
                z-index: -1;
            }

            .gameplay-text {
                color:antiquewhite;
                text-align:left;
                line-height:28px;
                font-size:20px;
            }

            button:disabled {
                cursor:default;
            }

            .hidden {
                display:none;
            }

            .gameplay-box {
                text-align:center;
            }

            .gameplay-text fd {
                color:rgb(228, 173, 118);
            }

            .gameplay-text pd {
                color:rgb(144, 255, 251)
            }

            .gameplay-text od {
                color:rgb(255, 107, 107)
            }

            .gameplay-text ad {
                color:chartreuse;
            }

            .gameplay-title {
                color:rgb(100, 149, 255);
                text-align:left;
            }

            .end {
                color:rgb(250, 138, 234);
            }

            .tutorial {
                color:rgb(247, 255, 141);
                text-align:center;
                font-size:20px;
            }
        </style>
    </head>
    <body id="page-body">
        <div id="star-box"></div>
        <h1 id="title">ORBITAL</h1>
        <div id="fun-box">
            <button onclick="toggleBackground()" class="choice-button">Toggle Background Animation</button>
            <p class="tutorial">
                How to play Orbital:<br><br>
                Orbital is a choose-your-own-adventure story. Read each paragraph, and then click on what you want to do or say.<br><br>
                If you want to undo an action, click "Go Back A Step", or refresh the page to start from the beginning.<br><br>
                Your actions always change your situation, but sometimes your situations changes in ways not directly caused by your actions<br><br>
            </p> 
            <div id="node-0" class="gameplay-box"> 
                <p></p>
                <p class="gameplay-text">
                    In the year 2208, you work as an engineer on the Elusa, a defensive space station orbiting Earth. You sit, eating, in the mess hall with a friend of yours, a radar operator. The station's artificial gravity keeps your boots anchored firmly to the ground.<br><br>
                    Your friend speaks to you in a hushed tone of voice. <fd>"Back on Earth, you worked at the Redbird Indoor Farms, right?"</fd><br>
                    <pd>"Yup. Hard job, but necessary,"</pd> you reply.<br>
                    <fd>"Suppose Operation Redbird happened tomorrow. Around how many people would starve?"</fd><br>
                    <pd>"When I left the farms, we had enough land and UV lamps to indefinitely feed around half the global population."</pd><br>
                    She puts her head in her hands. <fd>"Only half?"</fd><br>
                    <pd>"Only half."</pd><br>
                    <fd>"We've noticed something on the radar. It's around half a kilometer in diameter, and moving towards Earth at 90% the speed of light."</fd><br>
                    You have trained for this eventuality since the day the government drafted you to the Elusa. <pd>"When will it arrive?"</pd><br>
                    <fd>"Around fifteen hours. I've run some calculations with its velocity and estimated mass. Earth would be split in two. No survivors. But if we underwent Operation Redbird and moved the Earth away from the Sun, the ensuing famine would kill half of the population. The other half fed by the farms, of course."</fd><br>
                    <pd>"So... Why am I hearing about this from you?"</pd><br>
                    Your friend lowers her voice. <fd>"We've obviously noticed an alien weapon - plenty of extraterrestrials want humanity off the map, and have the means to do so. But opinions in the radar room vary widely. Some us think that the object has come to destroy Earth, others maintain that the radar has picked up a transport craft.<br><br>"But if it had picked up a transport craft, we would have received some transmission from them notifying us of their arrival. I need a favor from you."</fd><br>
                    <pd>"What kind of favor?"</pd><br>
                    <fd>"To perform Redbird, the Elusa would need to grab the Earth with our tractor beam. Then we would fire up the T-warp engines and drag Earth to safety. This only takes three people - one to operate the tractor beam, one for the engines. And of course, one to make sure that the rest of the crew doesn't interfere. I've already found someone for the tractor beam - a guy named Endelay who has been maintaining the tractor beams for years - and I myself will worry about the crew. You need to operate the engines. Go down in history."</fd><br>
                </p>
                <button class="choice-button" onclick="goToNode(0, 1)">"I'm in."</button><br><button class="choice-button" onclick="goToNode(0, 8.1)">"Absolutely not."</button>
            </div>

            <div id="node-1" class="gameplay-box hidden">
                <h2 class="gameplay-title">"I'm In"</h2>
                <p class="gameplay-text">
                        She tells you her plan: <br><fd>"At 2:45 in the morning tonight, you will wake from your bunk to visit the engine room. Do your best to travel undetected. As soon as the clock hits 3:00, engage the T-warp engine. Meanwhile, Endelay will operate the tractor beam from its control panel. Our plan won't trigger any alarm systems. Any questions?</fd><br>
                        <pd>"I... I've never met Endelay before, can we rely on him?"</pd><br>
                        <fd>"Yes, certainly. Otherwise I never would have asked him for help."</fd>
                </p>
                <button class="choice-button" onclick="goToNode(1, 2)">"What's your plan for the alarm?"</button><br><button class="choice-button" onclick="goToNode(1, 3)">"Alright. Let's do this."</button><br><button class="back-button" onclick="goBack()">Go Back One Step</button>
            </div>

            <div id="node-2" class="gameplay-box hidden">
                <h2 class="gameplay-title">"What's your plan for the alarm?"</h2>
                <p class="gameplay-text">
                    <fd>"You'll see. Just trust me."</fd>
                </p>
                <button class="choice-button" onclick="goToNode(2, 3)">"Alright. Let's do this."</button><br><button class="choice-button" onclick="goToNode(2, 8.2)">"Actually, never mind. I'm not doing this."</button><br><button class="back-button" onclick="goBack()">Go Back One Step</button>
            </div>

            <div id="node-3" class="gameplay-box hidden">
                <h2 class="gameplay-title">"Alright. Let's do this."</h2>
                <p class="gameplay-text">
                    <fd>"Glad to hear it."</fd><br>
                    You both finish your food in silence. Afterwards, you work your shift in the engine, doing scheduled maintenance.<br><br>
                    That night, you return to your bunk, and set your alarm for earlier than usual.<br><br>
                    The beeping shatters your sleep, and you feel a little groggier than usual. Still, you manage to find your limbs and climb from your bunk. You begin to sneak to the engine room, which should take around three minutes. Dim fluorescent lights show the worn metal path before you. But as you near your destination, you cross paths with a man you don't recognize.<br>
                    <od>"Hey. What are you doing, working this hour? What's your name?"</od><br>
                </p>
                <button class="choice-button" onclick="goToNode(3 ,4)">Tell him your name</button><br><button class="choice-button" onclick="goToNode(3, 5)">"Oh, you must be Endelay. How has the beam been going?"</button><br><button class="back-button" onclick="goBack()">Go Back One Step</button>
            </div>

            <div id="node-4" class="gameplay-box hidden">
                <h2 class="gameplay-title">Tell Him Your Name</h2>
                <p class="gameplay-text">
                    You tell the man your name, and make up an excuse. <pd>"The secondary fuel rod of the T-warp had overheated, so they called me over here to diagnose and fix the problem."</pd><br>
                    The man seems satisfied with this answer, and wanders away from you. From what you know about the architecture of the ship, he seems to be heading away from the tractor beam control panel.<br><br>
                    You enter the engine room. In front of you, an elaborate array of switches and buttons sits unprotected. You heat up the engines, so that at the flick of one tiny switch on the control panel, all of Earth could be displaced. You check your standard-issue watch, waiting for exactly 3:00. But at 2:59 and 20 seconds, a shudder runs through the Elusa's floor, nearly knocking you off your feet. Cluttered tools on the nearby shelves clatter to the ground. It lasts just one second - the Elusa holds still again, and a robotic voice comes over the intercom: <ad>"ALERT: Breach in starboard airlock. All crewmembers, move to escape pods for evacuation."</ad><br><br>
                </p>
                <button class="choice-button" onclick="goToNode(4, 6)">Evacuate</button><br><button class="choice-button" onclick="goToNode(4, 7)">Finish Redbird</button><br><button class="back-button" onclick="goBack()">Go Back One Step</button>
            </div>

            <div id="node-5" class="gameplay-box hidden">
                <h2 class="gameplay-title">"Oh, you must be Endelay. Have you turned on the beam?"</h2>
                <p class="gameplay-text">
                    <od>"Endelay? Who's that?"</od> The man narrows his eyes. <od>"What's this about a beam?"</od><br>
                    <pd>"Uh... I have a friend named Endelay,"</pd> you explain. <pd>"He works on the tractor beam, and recently ran a test to make sure that it works"</pd><br>
                    <od>"At three in the morning? Come with me."</od><br>
                    The man - you now see that he has a patch reading "Elusa Security Force" on the back of his shirt - takes you to the Elusa's brig, and locks you inside. You hear him say through a radio, <od>"There's been an attempt to hijack the Elusa. Any available officers, monitor the tractor beam."</od><br>
                    You grab at the bars of the brig, and try to explain the situation. He refuses to listen.<br><br>
                    As you languish, you feel gravity's grip start to loosen. The Earth has been split in two.<br><br>
                </p><h2 class="end">You have finished Orbital. Refresh the webpage or press "Go Back One Step" to try again.</h2>
                <br><button class="back-button" onclick="goBack()">Go Back One Step</button>
            </div>

            <div id="node-6" class="gameplay-box hidden">
                <h2 class="gameplay-title">Evacuate</h2>
                <p class="gameplay-text">
                    You sprint to the escape pods, passing your confused comrades. They all board their designated pods, except for one: Your friend. She has been grabbed by the Elusa's security.<br><br>
                    She gives you a particular glare, and you get the feeling that you have done something stupid.<br>
                    <pd>"Oh..."</pd><br>
                    <fd>"RUN! Before the weapon arrives!"</fd> She shouts. <br>
                    You begin the journey back to the engine, but before you can get there, gravity seems to shift, as Earth shatters into two pieces.<br><br>
                </p><h2 class="end">You have finished Orbital. Refresh the webpage or press "Go Back One Step" to try again.</h2>
                <br><button class="back-button" onclick="goBack()">Go Back One Step</button>
            </div>

            <div id="node-7" class="gameplay-box hidden">
                <h2 class="gameplay-title">Finish Redbird</h2>
                <p class="gameplay-text">
                    After Redbird, you never quite forgive yourself.<br><br>
                    You never deal with any physical repercussions. After the breach is patched up, the saboteur - your friend - seized, and the whole crew of the Elusa reboards the station, the same guard who took your friend arrests you. But you go free when scanners pick up the weapon going straight through where Earth used to be. Some people on Earth can't bring themselves to like you, who starved billions, but none dare attack you.<br><br>
                    You spend the rest of your days working on the farms, compensating for what you have done.<br><br>
                </p><h2 class="end">You have finished Orbital. Refresh the webpage or press "Go Back One Step" to try again.</h2>
                <br><button class="back-button" onclick="goBack()">Go Back One Step</button>
            </div>

            <div id="node-8.1" class="gameplay-box hidden">
                <h2 class="gameplay-title">"Absolutely not."</h2>
                <p class="gameplay-text">
                    She says, <fd>"I can't force you to do this. But you're making a huge mistake. I'll find someone else. And nothing makes you any more qualified to decide humanity's fate than me. I'm the radar expert, I know the odds that we have a weapon of mass destruction coming to Earth, but you don't know anything. So don't take matters into your own hands."</fd> She stands up from her table, leaving her food behind, and calmly walks out of the mess hall.<br><br>
                </p>
                <button class="choice-button" onclick="goToNode(8.1, 9)">Inform the Elusa's security forces</button><br><button class="choice-button" onclick="goToNode(8.1, 11.1)">Tell nobody</button><br><button class="back-button" onclick="goBack()">Go Back One Step</button>
            </div>

            <div id="node-8.2" class="gameplay-box hidden">
                <h2 class="gameplay-title">"Actually, never mind. I'm not doing this."</h2>
                <p class="gameplay-text">
                    She says, <fd>"I can't force you to do this. But you're making a huge mistake. I'll find someone else. And nothing makes you any more qualified to decide humanity's fate than me. I'm the radar expert, I know the odds that we have a weapon of mass destruction coming to Earth, but you don't know anything. So don't take matters into your own hands."</fd> She stands up from her table, leaving her food behind, and calmly walks out of the mess hall.<br><br>
                </p>
                <button class="choice-button" onclick="goToNode(8.2, 9)">Inform the Elusa's security forces</button><br><button class="choice-button" onclick="goToNode(8.2, 11.1)">Tell nobody</button><br><button class="back-button" onclick="goBack()">Go Back One Step</button>
            </div>

            <div id="node-9" class="gameplay-box hidden">
                <h2 class="gameplay-title">Inform the Elusa's security forces</h2>
                <p class="gameplay-text">
                    The security chief's office has no decoration. He sits in a chair at a sharp-cornered gray desk, the only furniture in the room. You have to stand.<br><br>
                    <od>"So she wants Endelay to operate the tractor beam. And you say that she plans to find someone else for the engine room."</od><br>
                    <pd>"Yes, that's what she told me."</pd><br>
                    The chief looks tired. <od>"Unless you have some kind of proof, like a voice recording, I can't do much. Besides, she could have been bluffing. The security branch doesn't have enough people, so I myself patrol the engine room - and nothing gets by me. You should get back to your shift now."</od><br><br>
                </p>
                <button class="choice-button" onclick="goToNode(9, 10)">"I insist that you investigate, or else I'll never leave your office."</button><br><button class="choice-button" onclick="goToNode(9, 11.2)">"You're probably right. Thank you for your time."</button><br><button class="back-button" onclick="goBack()">Go Back One Step</button>
            </div>

            <div id="node-10" class="gameplay-box hidden">
                <h2 class="gameplay-title">"I insist that you investigate, or else I'll never leave your office."</h2>
                <p class="gameplay-text">
                    <od>"I'm not sure what you plan to accomplish by this. I can just have you escorted out."</od><br>
                </p>
                <button class="choice-button" onclick="goToNode(10, 12)">"I'd like to see you try"</button><br><button class="choice-button" class="choice-button" onclick="goToNode(10, 11.3)">Leave the office now</button><br><button class="back-button" onclick="goBack()">Go Back One Step</button>
            </div>

            <div id="node-11.1" class="gameplay-box hidden">
                <h2 class="gameplay-title">Tell nobody</h2>
                <p class="gameplay-text">
                    You leave the mess hall and work your shift in the engine room. The day comes to a close, but as you fall asleep in your bunk, you can't quite shake the feeling that you have made a mistake.<br><br>
                    You wake up to the sound of an alarm. <ad>"ALERT: Breach in starboard airlock. All crewmembers, stand by for evacuation."</ad> Obeying orders, you enter an escape pod. Seven other members of Elusa's crew are with you. They chatter nervously amongst themselves.<br><br>
                    You ask them if they have seen your friend. They all say no.<br><br>
                    You enter an escape pod, and dive into the abyss, hoping to eventually deorbit safely. But when you look out the pod's window, Earth and the Elusa are both gone. Redbird has been initiated, legitimately or not.<br><br>
                    In the following days, as the escape pod's supplies start to dwindle, you notice a large spaceborn object nearing your pod. It draws closer, and you can see that it has windows and airlocks. No weapons systems.<br><br>
                    The ship turns around, and heads back to where it came from.<br><br>
                </p><h2 class="end">You have finished Orbital. Refresh the webpage or press "Go Back One Step" to try again.</h2>
                <br><button class="back-button" onclick="goBack()">Go Back One Step</button>
            </div>

            <div id="node-11.2" class="gameplay-box hidden">
                <h2 class="gameplay-title">"You're probably right. Thank you for your time."</h2>
                <p class="gameplay-text">
                    You leave the office and work your shift in the engine room. The day comes to a close, but as you fall asleep in your bunk, you can't quite shake the feeling that you have made a mistake.<br><br>
                    You wake up to the sound of an alarm. <ad>"ALERT: Breach in starboard airlock. All crewmembers, stand by for evacuation."</ad> Obeying orders, you enter an escape pod. Seven other members of Elusa's crew are with you. They chatter nervously amongst themselves.<br><br>
                    You ask them if they have seen your friend. They all say no.<br><br>
                    You enter an escape pod, and dive into the abyss, hoping to eventually deorbit safely. But when you look out the pod's window, Earth and the Elusa are both gone. Redbird has been initiated, legitimately or not.<br><br>
                    In the following days, as the escape pod's supplies start to dwindle, you notice a large spaceborn object nearing your pod. It draws closer, and you can see that it has windows and airlocks. No weapons systems.<br><br>
                    The ship turns around, and heads back to where it came from.<br><br>
                </p><h2 class="end">You have finished Orbital. Refresh the webpage or press "Go Back One Step" to try again.</h2>
                <br><button class="back-button" onclick="goBack()">Go Back One Step</button>
            </div>

            <div id="node-11.3" class="gameplay-box hidden">
                <h2 class="gameplay-title">Leave the office now</h2>
                <p class="gameplay-text">
                    Having left the office, you work your shift in the engine room, and the day ends. But as you fall asleep in your bunk, you can't quite shake the feeling that something bad will happen soon - perhaps because of your own cowardice.<br><br>
                    You wake up to the sound of an alarm. <ad>"ALERT: Breach in starboard airlock. All crewmembers, stand by for evacuation."</ad> Obeying orders, you enter an escape pod. Seven other members of Elusa's crew are with you. They chatter nervously amongst themselves.<br><br>
                    You ask them if they have seen your friend. They all say no.<br><br>
                    You enter an escape pod, and dive into the abyss, hoping to eventually deorbit safely. But when you look out the pod's window, Earth and the Elusa are both gone. Redbird has been initiated, legitimately or not.<br><br>
                    In the following days, as the escape pod's supplies start to dwindle, you notice a large spaceborn object nearing your pod. It draws closer, and you can see that it has windows and airlocks. No weapons systems.<br><br>
                    The ship turns around, and heads back to where it came from.<br><br>
                </p><h2 class="end">You have finished Orbital. Refresh the webpage or press "Go Back One Step" to try again.</h2>
                <br><button class="back-button" onclick="goBack()">Go Back One Step</button>
            </div>

            <div id="node-12" class="gameplay-box hidden">
                <h2 class="gameplay-title">"I'd like to see you try"</h2>
                <p class="gameplay-text">
                    He presses a button on his desk, and you hear the crackling of a radio. <od>"One available officer, please come to my office. I need someone escorted out."</od><br>
                    You wait a minute. Nobody comes. A voice from the radio states that all officers on duty are occupied. <pd>"I've been told the security here has staffing issues."</pd><br>
                    <od>"We really do."</od> He rises from his chair. <od>"I guess I'll have to remove you myself."</od><br>
                    <pd>"Hold on... Maybe thwarting a plot to kill half of humanity would increase the number of applicants."</pd><br>
                    <od>"It probably would. But like I've said, she's obviously bluffing."</od><br>
                    <pd>"Does it matter if she actually plans to go through with it? Just order some other engine operator to approach her while carrying a hidden voice recorder. The operator claims that they overheard my conversation with her, and wants to partake in the plan. That should give you all the proof you need."</pd><br>
                    <od>"Huh."</od> He rubs his chin. <od>"I guess that would work. I'll find an engine operator - in the meantime, you should leave."</od><br>
                    <pd>"Thank you for your time."</pd> you say. You stroll out of the office and into the engine room for your typical work shift.<br><br><br>
                    The next day, you can't find her. But snippets of conversation reach your ears, telling you that a heroic security chief stopped a hijacking attempt. And the media buzzes about an alien civilization, previously unknown to humanity, who wanted to make first contact. They had never invented a radio transmitter strong enough to reach Earth from their homeworld, but possessed advanced engines, so they had no way of contacting humanity before arriving in person.<br><br>
                    On Earth, you become a minor celebrity - the person who saved half of the world. Your career flourishes, and you prosper.<br><br>
                </p><h2 class="end">You have finished Orbital. Refresh the webpage or press "Go Back One Step" to try again.</h2>
                <br><button class="back-button" onclick="goBack()">Go Back One Step</button>
            </div>

        </div>
    </body>

    <script>
        let animation = true;
        const timer = ms => new Promise(res => setTimeout(res, ms));
        let stars = [];
        async function operateStars() {
            while(animation) {
                console.log(animation);
                starChance = Math.floor(Math.random() * 10);
                if (!starChance % 5){
                    var star = document.createElement("p");
                    star.innerHTML = "âœ¦";
                    star.classList.add("star");
                    star.style.fontSize = String(Math.floor(Math.random() * 40)) + "px";
                    star.style.marginTop = String(Math.floor(Math.random() * 100)) + "%";
                    star.style.position = "fixed";
                    const funbox = document.getElementById("star-box");
                    funbox.insertBefore(star, funbox.children[0]);
                    stars.push(star);
                }

                for (let i = 0; i < stars.length; i++) {
                    let star = stars[i];
                    let currentMargin = star.style.marginLeft.slice(0, -1);
                    let newMargin = Number(currentMargin) + 0.1;
                    let newMarginStr = String(newMargin) + "%";
                    if (newMargin >= 98) {
                        star.remove();
                    }
                    star.style.marginLeft = newMarginStr;
                }
                await timer(20);
            };
        };

        operateStars();

        let nodes = [0];

        function goToNode(currentNode, nextNode) {
            nextNodeElement = document.getElementById("node-" + String(nextNode));
            nextNodeElement.classList.remove("hidden");
            nodes.push(nextNode);
            
            currentNodeElement = document.getElementById("node-" + String(currentNode));
            children = currentNodeElement.children;
            /*children[2].classList.add("hidden");
            children[3].classList.add("hidden");*/
            children[2].setAttribute("disabled", "disabled");
            children[4].setAttribute("disabled", "disabled")
            children[6].classList.add("hidden");
        };

        function goBack() {
            let lastNode =  nodes[nodes.length - 1];
            lastNodeElement = document.getElementById("node-" + String(lastNode));
            lastNodeElement.classList.add("hidden");
            nodes.pop();

            currentNode = nodes[nodes.length - 1];
            currentNodeElement = document.getElementById("node-" + String(currentNode));
            children = currentNodeElement.children;
            /*children[2].classList.remove("hidden");
            children[3].classList.remove("hidden");*/
            children[2].removeAttribute("disabled");
            children[4].removeAttribute("disabled");
            children[6].classList.remove("hidden");
        };

        function toggleBackground() {
            console.log(animation);
            if (animation) {
                animation = false;
            } else {
                animation = true;
                operateStars();
            };
        };
    </script>
</html>